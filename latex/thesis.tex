% --- Header --- %
\documentclass{report}
\usepackage{authblk}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[style=alphabetic]{biblatex}
\addbibresource{references.bib} % include citations/references
\usepackage{listings}
\usepackage{multirow}
\usepackage{geometry}
\usepackage{gensymb}
\usepackage{booktabs}
\usepackage{mathtools} 
\usepackage{lipsum}
\usepackage{color}
\usepackage{graphicx}
\usepackage{ragged2e}
\graphicspath{ {figures/} }

% Python-style Highlighting
\usepackage{color}
\usepackage{setspace}
\definecolor{Code}{rgb}{0,0,0}
\definecolor{Decorators}{rgb}{0.5,0.5,0.5}
\definecolor{Numbers}{rgb}{0.5,0,0}
\definecolor{MatchingBrackets}{rgb}{0.25,0.5,0.5}
\definecolor{Keywords}{rgb}{0,0,1}
\definecolor{self}{rgb}{0.75,0.5,0}
\definecolor{Strings}{rgb}{0,0.63,0}
\definecolor{Comments}{rgb}{0,0.63,1}
\definecolor{Backquotes}{rgb}{0,0,0}
\definecolor{Classname}{rgb}{0,0,0}
\definecolor{FunctionName}{rgb}{0,0,0}
\definecolor{Operators}{rgb}{0,0,0}
\definecolor{Background}{rgb}{0.98,0.98,0.98}

\newcommand\pythonstyle{
  \lstset{
    basicstyle=\tiny,
    breaklines=true,
    numbers=left,
    numberstyle=\footnotesize,
    numbersep=1em,
    xleftmargin=1em,
    framextopmargin=2em,
    framexbottommargin=2em,
    showspaces=false,
    showtabs=false,
    showstringspaces=false,
    frame=l,
    tabsize=4,
    % Basic
    basicstyle=\ttfamily\small\setstretch{1},
    backgroundcolor=\color{Background},
    language=Python,
    % Comments
    commentstyle=\color{Comments}\slshape,
    % Strings
    stringstyle=\color{Strings},
    morecomment=[s][\color{Strings}]{"""}{"""},
    morecomment=[s][\color{Strings}]{'''}{'''},
    % keywords
    morekeywords={import,from,class,def,for,while,if,is,in,elif,else,not,and,or,print,break,continue,return,True,False,None,access,as,,del,except,exec,finally,global,import,lambda,pass,print,raise,try,assert},
    keywordstyle={\color{Keywords}\bfseries},
    % additional keywords
    morekeywords={[2]@invariant},
    keywordstyle={[2]\color{Decorators}\slshape},
    emph={self},
    emphstyle={\color{self}\slshape}
    }
}

% Create Python environment
\lstnewenvironment{python}[1][]{
  \pythonstyle
  \lstset{#1}
}{}

% Define command to import external python code
\newcommand\pythonexternal[2][]{
  { 
    \pythonstyle
    \lstinputlisting[#1]{#2}
  }
}

% --- Preamble --- %
\begin{document}
\title{Applications of computer-vision for agricultural implement feedback and control}
\author{Trevor Stanhope}
% \journal{Journal of Computers and Electronics in Agriculture}
\affil{McGill University}
\maketitle

% --- Table of Contents --- %
\tableofcontents

% --- Chapters --- %
\chapter{Introduction}
\include{chapters/introduction}
\chapter{Evaluation of inter-row cultivator guidance system}
\include{chapters/chapter1}
\chapter{Comparison of feature-based motion estimation algorithms}
\include{chapters/chapter2}
\chapter{Conclusion}
\include{chapters/conclusion}

% --- Bibligraphy --- %
\nocite{*}
\printbibliography

% --- Appendix --- %
\appendix
\chapter{Python Application}
\input{chapters/appendix}

\end{document}

